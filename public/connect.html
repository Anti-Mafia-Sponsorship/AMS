<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AMS Token - –°–≤—ä—Ä–∂–∏ Wallet</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', sans-serif; background: #0a0e27; color: #fff; }
        nav { background: #1a1f3a; padding: 20px; text-align: center; }
        nav a { color: #667eea; text-decoration: none; margin: 0 15px; font-size: 1.1em; }
        nav a:hover { color: #fff; }
        .container { max-width: 800px; margin: 100px auto; padding: 40px; }
        .connect-box { background: #1a1f3a; padding: 50px; border-radius: 20px; text-align: center; }
        .connect-box h1 { font-size: 2.5em; color: #667eea; margin-bottom: 30px; }
        .wallet-button { display: inline-block; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px 50px; border-radius: 50px; font-size: 1.3em; font-weight: bold; text-decoration: none; margin: 15px; border: none; cursor: pointer; transition: transform 0.3s; }
        .wallet-button:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4); }
        .wallet-icon { font-size: 2em; margin-right: 10px; }
        .info-box { background: #0a0e27; padding: 30px; border-radius: 15px; margin-top: 40px; text-align: left; }
        .info-box h3 { color: #667eea; margin-bottom: 15px; }
        .info-box p { color: #b8c5d6; line-height: 1.8; margin-bottom: 10px; }
        .status { background: #ffc107; color: #000; padding: 20px; border-radius: 10px; margin-top: 30px; font-weight: bold; display: none; }
        .connected { background: #4caf50; color: #fff; }
    </style>
    <script src="https://cdn.jsdelivr.net/npm/web3@latest/dist/web3.min.js"></script>
</head>
<body>
    <nav>
        <a href="index.html">–ù–∞—á–∞–ª–æ</a>
        <a href="connect.html">–°–≤—ä—Ä–∂–∏ Wallet</a>
        <a href="rules.html">–ü—Ä–∞–≤–∏–ª–∞</a>
        <a href="donate.html">–î–∞—Ä—è–≤–∞–π</a>
        <a href="admin.html">Owner Panel</a>
    </nav>

    <div class="container">
        <div class="connect-box">
            <h1>üîó –°–≤—ä—Ä–∂–∏ –ü–æ—Ä—Ç—Ñ–µ–π–ª–∞ —Å–∏</h1>
            <p style="color: #b8c5d6; margin-bottom: 40px; font-size: 1.2em;">
                –ò–∑–±–µ—Ä–∏ wallet –∑–∞ —Å–≤—ä—Ä–∑–≤–∞–Ω–µ –∫—ä–º AMS Token
            </p>
            
            <button class="wallet-button" onclick="connectMetaMask()">
                <span class="wallet-icon">ü¶ä</span> MetaMask
            </button>
            
            <button class="wallet-button" onclick="connectTrustWallet()">
                <span class="wallet-icon">üíº</span> Trust Wallet
            </button>
            
            <button class="wallet-button" onclick="connectWalletConnect()">
                <span class="wallet-icon">üîÑ</span> WalletConnect
            </button>
            
            <div id="status" class="status"></div>
        </div>
        
        <div class="info-box">
            <h3>‚ÑπÔ∏è –ó–∞—â–æ —Ç—Ä—è–±–≤–∞ –¥–∞ —Å–≤—ä—Ä–∂–∞ wallet?</h3>
            <p>‚úÖ –ó–∞ –¥–∞ –∏–∑–ø—Ä–∞—â–∞—à BNB –¥–∞—Ä–µ–Ω–∏—è (–í–∞—Ä–∏–∞–Ω—Ç –ë)</p>
            <p>‚úÖ –ó–∞ –¥–∞ –≤–∏–∂–¥–∞—à –±–∞–ª–∞–Ω—Å–∞ —Å–∏ –≤ AMS —Ç–æ–∫–µ–Ω–∏</p>
            <p>‚úÖ –ó–∞ –¥–∞ –ø—Ä–æ–¥–∞–≤–∞—à —Ç–æ–∫–µ–Ω–∏ (–∫–æ–≥–∞—Ç–æ trading –µ enabled)</p>
            <p>‚úÖ –ó–∞ –¥–∞ –≤–∏–∂–¥–∞—à –∏—Å—Ç–æ—Ä–∏—è—Ç–∞ —Å–∏ –Ω–∞ –¥–∞—Ä–µ–Ω–∏—è</p>
        </div>
        
        <div class="info-box">
            <h3>‚ö†Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç:</h3>
            <p>üîí –ù–∏–∫–æ–≥–∞ –Ω–µ —Å–ø–æ–¥–µ–ª—è–π seed phrase-–∞ —Å–∏!</p>
            <p>üîí –ü—Ä–æ–≤–µ—Ä—è–≤–∞–π –≤–∏–Ω–∞–≥–∏ contract address-–∞ –ø—Ä–µ–¥–∏ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏—è!</p>
            <p>üîí –°–≤—ä—Ä–∑–≤–∞–Ω–µ—Ç–æ –Ω–∞ wallet –ù–ï –¥–∞–≤–∞ –¥–æ—Å—Ç—ä–ø –¥–æ —Å—Ä–µ–¥—Å—Ç–≤–∞—Ç–∞ —Ç–∏!</p>
        </div>
        
        <div style="text-align: center; margin-top: 40px;">
            <a href="donate.html" class="wallet-button" style="display: inline-block;">
                –ü—Ä–æ–¥—ä–ª–∂–∏ –∫—ä–º –î–∞—Ä–µ–Ω–∏—è ‚Üí
            </a>
        </div>
    </div>

    <script>
        let web3;
        let account;
        
        async function connectMetaMask() {
            if (typeof window.ethereum !== 'undefined') {
                try {
                    // Request account access
                    const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });
                    web3 = new Web3(window.ethereum);
                    account = accounts[0];
                    
                    // Check network (BNB Smart Chain Testnet = 97)
                    const chainId = await web3.eth.getChainId();
                    if (chainId !== 97) {
                        alert('‚ö†Ô∏è –ú–æ–ª—è, –ø—Ä–µ–≤–∫–ª—é—á–∏ –Ω–∞ BNB Smart Chain Testnet (97)');
                        return;
                    }
                    
                    showStatus(`‚úÖ –°–≤—ä—Ä–∑–∞–Ω: ${account.substring(0, 6)}...${account.substring(38)}`, true);
                    
                    // Save to localStorage
                    localStorage.setItem('walletConnected', 'true');
                    localStorage.setItem('walletAddress', account);
                    
                } catch (error) {
                    showStatus('‚ùå –ì—Ä–µ—à–∫–∞: ' + error.message, false);
                }
            } else {
                showStatus('‚ùå MetaMask –Ω–µ –µ –∏–Ω—Å—Ç–∞–ª–∏—Ä–∞–Ω! –ò–Ω—Å—Ç–∞–ª–∏—Ä–∞–π –æ—Ç metamask.io', false);
            }
        }
        
        async function connectTrustWallet() {
            // Same as MetaMask (uses window.ethereum)
            connectMetaMask();
        }
        
        async function connectWalletConnect() {
            showStatus('üîÑ WalletConnect —Å–∫–æ—Ä–æ...', false);
        }
        
        function showStatus(message, success) {
            const status = document.getElementById('status');
            status.textContent = message;
            status.style.display = 'block';
            if (success) {
                status.className = 'status connected';
            } else {
                status.className = 'status';
            }
        }
        
        // Check if already connected
        window.onload = function() {
            if (localStorage.getItem('walletConnected') === 'true') {
                const address = localStorage.getItem('walletAddress');
                showStatus(`‚úÖ –í–µ—á–µ —Å–≤—ä—Ä–∑–∞–Ω: ${address.substring(0, 6)}...${address.substring(38)}`, true);
            }
        }
    </script>
</body>
</html>